{"version":3,"sources":["theme/material.theme.js","utils/utils.js","utils/history.js","components/Todos/Models/Subtask.model.js","components/Todos/Models/Bucket.model.js","components/Todos/Models/BucketStore.model.js","store/api.js","store/MobxStore.api.js","store/MobxStore.js","components/Navbar.js","components/Messages.js","components/withStore.hoc.js","components/Add.js","components/Input.js","components/Todos/Accordion.js","components/Todos/BucketSubtasks.js","components/Todos/BucketTodo.js","pages/Home.js","App.js","index.js"],"names":["theme","createMuiTheme","palette","primary","main","secondary","contrastThreshold","tonalOffset","background","paper","tasksComplete","tasks","filter","n","status","length","tasksPending","fetchHandler","response","a","ok","json","resp","toString","isObject","Promise","reject","error","message","updateTodoValues","todo","source","Object","entries","values","k","val","presetPost","data","method","headers","body","JSON","stringify","createBrowserHistory","basename","process","configure","enforceActions","Subtask","todo_id","title","created_at","finished","makeObservable","this","observable","toggle","action","updateSubtask","warn","observe","change","newValue","log","task","copy","runInAction","Bucket","id","subtasks","reopenStatus","onUpdate","map","sort","b","Date","getTime","setSubTasksStatus","subTask","newSub","push","entity","eventName","delay","then","byStatus","undefined","BucketStore","todos","state","unfinishedCount","computed","finishedCount","addNewBucket","addNewSubTask","find","lazyCB","Error","bucket","v4","tempItem","initialID","isFunction","updatedBucket","forEach","inx","catch","onerror","err","subtask","updatedSubtask","apiUrlBase","api","base","bucketList","createBucket","updateBucketStatus","updateBucketOnlyStatus","createSubtask","updateSubtaskStatus","freeze","MobXStore","todoData","fetch_bucketListGet","childStore","onDone","entities","doSwitch","ent","done","addBucket_and_fetch","fail","fetch_updateBucketStatusPost","r","_updateBucket","fetch_updateSubtaskStatusPost","_updateSubtask","bucketID","fetch_updateBucketOnlyStatus","addSubtask_and_fetch","pass","o","childStoresAvailable","bucketStore","promise","childstores","bucketItem","fetch_createBucketPost","bucketId","subtaskItem","fetch_createSubtaskPost","sq","debug","fetch","code","indexOf","_addSubToBucket","addSubtask","subTaskStore","useStyles","makeStyles","root","flexGrow","menuButton","marginRight","spacing","ButtonAppBar","mobxstore","React","useState","userName","setUser","classes","className","AppBar","position","Toolbar","IconButton","edge","color","aria-label","Typography","variant","Chip","avatar","label","clickable","width","marginTop","Messages","props","type","value","Alert","severity","withStoreReady","Component","observer","to","CircularProgress","size","FloatingActionButtons","actionAdd","opts","margin","style","backgroundColor","extendedIcon","Fab","onClick","event","stopPropagation","preventDefault","BasicTextFields","add","text","variantName","inputName","setInputName","onChange","target","onSubmit","noValidate","autoComplete","Fragment","TextField","height","heading","fontSize","typography","pxToRem","flexBasis","flexShrink","secondaryHeading","paddingTop","AccordionSection","SubTasks","Check","item","Accordion","AccordionSummary","expandIcon","aria-controls","FormControlLabel","onFocus","control","AccordionDetails","SubTaskView","currentCount","onCurrentCount","didLoad","setDidLoad","useEffect","labelId","ListItem","key","role","dense","button","e","ListItemIcon","Checkbox","checked","tabIndex","inputProps","ListItemText","SubTasksListView","List","padding","SubtaskComponent","SubTaskStore","BucketView","setCount","count","taskByID","BucketListView","BucketComponent","resolve","storeOnUpdateHandler","BucketTodo","loggerSetting","App","ThemeProvider","Navbar","exact","path","render","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.f395645c.chunk.js","sourcesContent":["\r\nimport { createMuiTheme } from '@material-ui/core/styles'\r\n\r\nexport const theme = createMuiTheme({\r\n    palette: {\r\n        primary: {\r\n            // light: will be calculated from palette.primary.main,\r\n            main: '#00897b'\r\n            // dark: will be calculated from palette.primary.main,\r\n            // contrastText: will be calculated to contrast with palette.primary.main\r\n        },\r\n        secondary: {\r\n            main: '#c0ca33'\r\n            // dark: will be calculated from palette.secondary.main,\r\n            //  contrastText: '#ffcc00',\r\n        },\r\n        // Used by `getContrastText()` to maximize the contrast between\r\n        // the background and the text.\r\n        contrastThreshold: 3,\r\n        // Used by the functions below to shift a color's luminance by approximately\r\n        // two indexes within its tonal palette.\r\n        // E.g., shift from Red 500 to Red 300 or Red 700.\r\n        tonalOffset: 0.2,\r\n        background: {\r\n            paper: '#f4f4f4'\r\n        }\r\n    }\r\n})\r\n","\r\nimport { warn, isObject } from 'x-utils-es'\r\n\r\n/**\r\n * \r\n * @param {*} status match available status types \r\n */\r\nexport const statusTypes = (status) => {\r\n    const o = {\r\n        pending: 0,\r\n        completed: 1\r\n    }\r\n    if (o[status] === undefined) warn('[statusTypes]', `invalid status: ${status} provided`)\r\n    return o[status]\r\n}\r\n\r\nexport const tasksComplete = (tasks = []) => {\r\n    return tasks.filter(n => n.status === 'completed').length === tasks.length && tasks.length > 0\r\n}\r\n\r\nexport const tasksPending = (tasks = []) => {\r\n    return tasks.filter(n => n.status === 'pending').length === tasks.length && tasks.length > 0\r\n}\r\n\r\n/**\r\n * fetch handler if status error reject response\r\n * @param {*} response \r\n */\r\nexport const fetchHandler = async (response) => { \r\n    if (response.ok) return response.json()\r\n    else {\r\n\r\n        let resp\r\n        try {\r\n            resp = await response.json() // {message,code,error}   \r\n        } catch (err) {\r\n          \r\n            resp = err.toString()\r\n        }\r\n        // if our server is up we know what to expect, else can return empty string\r\n        if (isObject(resp)) {\r\n            return Promise.reject(resp.error || resp.message)\r\n        } else Promise.reject(resp || \"HTTP-Error: \" + resp.status)\r\n    }\r\n}\r\n\r\n/**\r\n * Update original with new data\r\n * @param {*} todo data to update with\r\n * @param {*} source original \r\n * @returns `original` modified\r\n */\r\nexport const updateTodoValues = (todo = {}, source) => {\r\n\r\n    for (let [k, val] of Object.entries(todo).values()) {\r\n        if (source[k]) source[k] = val\r\n    }\r\n    return source\r\n}\r\n\r\n/**\r\n * Preset post headers\r\n * @param {*} data \r\n */\r\nexport const presetPost = (data) => {\r\n    return {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json;charset=utf-8'\r\n        },\r\n        body: JSON.stringify(data)\r\n    }\r\n}\r\n","import { createBrowserHistory } from 'history'\r\n\r\nexport const history = createBrowserHistory({\r\n    basename: process.env.PUBLIC_URL\r\n})\r\n","import { makeObservable, observable, action, observe, runInAction, configure } from \"mobx\"\r\nimport { log, copy, warn } from 'x-utils-es'\r\n\r\nconfigure({\r\n    enforceActions: \"never\"\r\n    // computedRequiresReaction: true,\r\n    // reactionRequiresObservable: true,\r\n    // observableRequiresReaction: true,\r\n    // disableErrorBoundaries: true,\r\n})\r\n\r\nexport class Subtask {\r\n    // initial values\r\n\r\n    todo_id = ''\r\n    status = ''\r\n    title = ''\r\n    created_at = ''\r\n    finished = false\r\n    error = ''\r\n    constructor({ todo_id, title, status, created_at }) {\r\n\r\n        makeObservable(this, {\r\n            todo_id: observable,\r\n            status: observable,\r\n            title: observable,\r\n            // created_at: observable,\r\n            error: observable,\r\n            finished: observable,\r\n            toggle: action,\r\n            updateSubtask: action\r\n        })\r\n\r\n        if (!title || !todo_id || !status || !created_at) {\r\n            this.error = 'new Subtask missing some props'\r\n            warn('[Subtask]', this.error)\r\n\r\n        } else {\r\n\r\n            this.error = ''\r\n            this.todo_id = todo_id\r\n            this.title = title\r\n            this.status = status\r\n            this.created_at = created_at\r\n        }\r\n\r\n        // initial cleanup\r\n        if (this.status === 'completed') {\r\n            this.finished = true\r\n        }\r\n\r\n        observe(this, 'status', change => {\r\n\r\n            if (change.newValue === 'completed') {\r\n                this.finished = true\r\n            }\r\n            log('[subtask]', `is ${change.newValue}`)\r\n        })\r\n    }\r\n\r\n    toggle() {\r\n     \r\n        this.finished = !this.finished\r\n        this.status = this.finished ? 'completed' : 'pending'\r\n    }\r\n      \r\n    updateSubtask(task = {}) {\r\n        task = copy(task)\r\n        runInAction(() => {\r\n            if (task.title) this.title = task.title\r\n            if (task.created_at) this.created_at = task.created_at\r\n            if (task.status) this.status = task.status\r\n        })\r\n    }\r\n}\r\n","import { makeObservable, observable, action, observe, runInAction, configure } from \"mobx\"\r\nimport { log, copy, warn, delay } from 'x-utils-es'\r\nimport { tasksComplete, tasksPending } from '../../../utils'\r\nimport { Subtask } from './Subtask.model'\r\n\r\nconfigure({\r\n    enforceActions: \"never\"\r\n    // computedRequiresReaction: true,\r\n    // reactionRequiresObservable: true,\r\n    // observableRequiresReaction: true,\r\n    // disableErrorBoundaries: true,\r\n})\r\n\r\nexport class Bucket {\r\n    // initial values\r\n    id = ''\r\n    status = ''\r\n    title = ''\r\n    created_at = ''\r\n    subtasks = []\r\n    finished = false\r\n    error = ''\r\n    reopenStatus = false // if the bucket was closed and we added another subtask\r\n\r\n    // dataState = 'pending' // [pending,ready,error]\r\n    constructor({ id, title, status, created_at, subtasks }) {\r\n\r\n        makeObservable(this, {\r\n            id: observable,\r\n            status: observable,\r\n            title: observable,\r\n            //  created_at: observable,\r\n            subtasks: observable,\r\n            error: observable,\r\n            finished: observable,\r\n            toggle: action,\r\n            onUpdate: action,\r\n            reopenStatus: observable\r\n        })\r\n\r\n        if (!title || !id || !status || !created_at) {\r\n            this.error = 'new Bucket missing some props'\r\n            warn('[Bucket]', this.error)\r\n\r\n        } else {\r\n\r\n            this.error = ''\r\n            this.id = id\r\n            this.title = title\r\n            this.status = status\r\n            this.created_at = created_at\r\n            this.subtasks = (subtasks || []).length ? copy(subtasks).map(n => new Subtask(n)) : []\r\n\r\n            // sort tasks \r\n            this.subtasks.sort((a, b) => new Date(a.created_at).getTime() - new Date(b.created_at).getTime())\r\n\r\n        }\r\n        // initial cleanup\r\n        // if we got some completed buckets from db but have no subtask\r\n        if (this.status === 'completed') {\r\n            this.finished = true\r\n            this.reopenStatus = false\r\n        \r\n            // NOTE so we can check if real changes happened on database\r\n            // this.setSubTasksStatus('completed')\r\n        } \r\n\r\n        if (this.status === 'completed' && !this.subtasks.length) {\r\n            this.status = 'pending'\r\n            this.finished = false\r\n            this.reopenStatus = false\r\n        }\r\n\r\n        observe(this, 'status', change => {\r\n           \r\n            if (!this.reopenStatus) {\r\n                this.setSubTasksStatus(change.newValue)\r\n            }\r\n                \r\n        })\r\n\r\n        observe(this, 'subtasks', change => {\r\n\r\n            if (tasksComplete(change.newValue)) {\r\n\r\n                runInAction(() => {\r\n                    this.status = 'completed'\r\n                    this.finished = true\r\n                    log('[tasksCompleted]', 'bucket is complete')\r\n                })\r\n                return\r\n            }\r\n\r\n            if (tasksPending(change.newValue)) {\r\n\r\n                runInAction(() => {\r\n                    this.status = 'pending'\r\n                    this.finished = false\r\n                    log('[tasksPending]', 'bucket is pending')\r\n                })          \r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    toggle() {\r\n        // dont perform checks if not subs available\r\n        if (!this.subtasks.length) return\r\n        this.finished = !this.finished\r\n        this.status = this.finished ? 'completed' : 'pending'\r\n        return this.finished\r\n    }\r\n\r\n    addSubtask(subTask = []) {\r\n        subTask = copy(subTask)\r\n        runInAction(() => {\r\n            let newSub = new Subtask(subTask)\r\n            if (!newSub.error) {\r\n                this.subtasks.push(newSub)\r\n            } else warn('[addSubtask]', 'subtask not added')\r\n        })\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param {*} task subtask model\r\n     * @param {*} entity  subtask\r\n     * @param {*} eventName event type\r\n     */\r\n    onUpdate(task, entity, eventName) {\r\n\r\n        if (eventName === 'addSubtask' && entity === 'subtask') {\r\n\r\n            // this.setSubTasksStatus(task.status, task.todo_id)\r\n            runInAction(() => {\r\n                if (this.status === 'completed') {\r\n                    this.reopenStatus = true\r\n                    delay(300).then(() => {\r\n                        this.finished = false   \r\n                        this.status = 'pending'                  \r\n                        this.reopenStatus = false\r\n                         \r\n                    })                             \r\n                }\r\n            })\r\n\r\n            return \r\n        }\r\n\r\n        if (eventName === 'statusChange' && entity === 'subtask') {\r\n           \r\n            runInAction(() => {\r\n               \r\n                this.setSubTasksStatus(task.status, task.todo_id)\r\n\r\n                if (this.status === 'completed' && !tasksComplete(this.subtasks)) {\r\n                    this.reopenStatus = true\r\n                    this.status = 'pending'\r\n                    this.finished = false\r\n                    this.reopenStatus = false\r\n                    return \r\n                }\r\n\r\n                if (tasksComplete(this.subtasks)) {\r\n                    this.status = 'completed'\r\n                    this.finished = true\r\n                }\r\n\r\n                if (tasksPending(this.subtasks)) {\r\n                    this.status = 'pending'\r\n                    this.finished = false\r\n                }\r\n\r\n            })\r\n        }\r\n    }\r\n\r\n    /**\r\n     * update status of all subtasks \r\n     * if id is set only that subtask is updated\r\n     * @param {*} byStatus \r\n     * @param {*} todo_id (optional)\r\n     */\r\n    setSubTasksStatus(byStatus, todo_id) {\r\n        if (byStatus === 'completed' || byStatus === 'pending') {\r\n            runInAction(() => {\r\n                this.subtasks = this.subtasks\r\n                    .map(n => {\r\n                        if (todo_id === undefined) {\r\n       \r\n                            n.status = byStatus\r\n                            n.finished = byStatus === 'completed'\r\n                            return n\r\n                        } else {\r\n                            if (todo_id === n.todo_id) {\r\n                                n.status = byStatus\r\n                                n.finished = byStatus === 'completed'\r\n                            }\r\n                            return n\r\n                        }\r\n                    })\r\n            })\r\n        }\r\n    }\r\n}\r\n","import { makeObservable, observable, computed, action, observe, runInAction, configure } from \"mobx\"\r\nimport { log, onerror, warn, isFunction } from 'x-utils-es'\r\nimport { updateTodoValues } from '../../../utils'\r\nimport { v4 } from 'uuid'\r\nimport { Bucket } from './Bucket.model'\r\nimport { Subtask } from './Subtask.model' \r\n\r\nconfigure({\r\n    enforceActions: \"never\"\r\n    // computedRequiresReaction: true,\r\n    // reactionRequiresObservable: true,\r\n    // observableRequiresReaction: true,\r\n    // disableErrorBoundaries: true,\r\n})\r\n\r\n/**\r\n * BucketStore class is also used as SubTaskStore class, that is why we use {entity} name\r\n */\r\nexport class BucketStore/** SubTaskStore */ {\r\n    todos = [];\r\n    state = \"pending\" // \"pending\", \"update\" \"ready\" or \"error\"\r\n\r\n    id = '' // NOTE id not available on entity BucketStore\r\n    get unfinishedCount() {\r\n        return this.todos.filter(todo => !todo.finished).length\r\n    }\r\n    get finishedCount() {\r\n        return this.todos.filter(todo => todo.finished).length\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param {*} todos \r\n     * @param `{id, entity}` id is only available on entity='SubTaskStore'\r\n     */\r\n    constructor(todos, { id, entity }) {\r\n\r\n        makeObservable(this, {\r\n            id: observable,\r\n            state: observable,\r\n            todos: observable,\r\n            unfinishedCount: computed,\r\n            finishedCount: computed,\r\n            // onUpdate:action\r\n            addNewBucket: action,\r\n            addNewSubTask: action\r\n        })\r\n\r\n        this.entity = entity\r\n        this.id = id\r\n\r\n        if (this.entity === 'BucketStore') {\r\n            this.todos = todos.map(n => new Bucket(n)).filter(n => !n.error)\r\n            this.state = 'ready'\r\n        }\r\n\r\n        if (this.entity === 'SubTaskStore') {\r\n            this.todos = todos.map(n => new Subtask(n)).filter(n => !n.error)\r\n            this.state = 'ready'\r\n        }\r\n\r\n        observe(this, 'todos', change => {\r\n            log(`[${this.entity}][todos][updated]`)\r\n        })\r\n\r\n        observe(this, 'state', change => {\r\n            log(`[${this.entity}][state]`, change.newValue)\r\n        })\r\n\r\n        // log(`[entity: ${this.entity}] /todos`, this.todos)\r\n    }\r\n   \r\n    /**\r\n     * @memberof Subtask/Bucket\r\n     * grab either subtask or bucket by id\r\n     * @param {*} id\r\n     */\r\n    taskByID(id) {\r\n        if (this.entity === 'SubTaskStore') {\r\n            let task = this.todos.find(n => n.todo_id === id)\r\n            if (task instanceof Subtask) return task\r\n        }\r\n        if (this.entity === 'BucketStore') {\r\n            let task = this.todos.find(n => n.id === id)\r\n            if (task instanceof Bucket) return task\r\n        }\r\n        return undefined\r\n    }\r\n\r\n    /**\r\n     * add new bucket ahead of time then wait for server response to update again using lazy callback\r\n     * @returns number of added buckets \r\n     */\r\n    addNewBucket({ title }, lazyCB) {\r\n\r\n        if (this.entity !== 'BucketStore') {\r\n            throw new Error(`not allowed performing task/addNewBucket on entity:${this.entity}`)\r\n        }\r\n\r\n        try {\r\n\r\n            if (!title) {\r\n                warn('Bucket not added, {title} missing')\r\n                return \r\n            }\r\n\r\n            /**\r\n             * NOTE\r\n             * So we dont wait for return success callback from server\r\n             * We create initial item and then update its {id,created_at} with the official\r\n             */\r\n            const tempItem = ({ title }) => {\r\n                return {\r\n                    id: v4(), // updated by server \r\n                    title,\r\n                    status: 'pending', // [pending/completed]\r\n                    created_at: new Date(), // updated by server \r\n                    subtasks: []\r\n                }\r\n            }\r\n\r\n            let bucket = new Bucket(tempItem({ title }))\r\n            let initialID = bucket.id\r\n\r\n            runInAction(() => {\r\n                // add another bucket          \r\n                this.todos.push(bucket)\r\n                // this.state = 'ready'\r\n                // NOTE lazy callback from server \r\n                if (isFunction(lazyCB)) {\r\n                    lazyCB(bucket).then((updatedBucket) => {\r\n                        this.todos.forEach((todo, inx) => {\r\n                            if (todo.id === initialID) {\r\n                                todo = updateTodoValues(updatedBucket, todo)                              \r\n                                this.todos[inx] = todo \r\n                                log('[addNewBucket][lazyUpdate][done]')\r\n                            }\r\n                        })\r\n                    })\r\n                        // TODO Here we can reverse last add in case server/connection drops out \r\n                        .catch(onerror)\r\n                }\r\n            })\r\n\r\n            return bucket\r\n\r\n        } catch (err) {\r\n            onerror(err)\r\n        }\r\n\r\n        return undefined\r\n    }\r\n\r\n    /**\r\n     * add new subtask ahead of time then wait for server response to update again using lazy callback\r\n     * @returns number of added subTask \r\n     */\r\n    addNewSubTask({ title }, lazyCB) {\r\n\r\n        if (this.entity !== 'SubTaskStore') {\r\n            throw new Error(`not allowed performing task/addSubTask on entity:${this.entity}`)\r\n        }\r\n\r\n        try {\r\n\r\n            if (!title) {\r\n                warn('[addNewSubTask]', `subtask not added, {title} missing`)\r\n                return\r\n            }\r\n\r\n            /**\r\n            * \r\n            * So we dont wait for return success callback from server\r\n            * We create initial item and then update its {todo_id,created_at} with the official\r\n            */\r\n            const tempItem = ({ title }) => {\r\n                return {\r\n                    todo_id: v4(), // updated by server \r\n                    title,\r\n                    status: 'pending', // [pending/completed]\r\n                    created_at: new Date() // updated by server \r\n                }\r\n            }\r\n\r\n            let subtask = new Subtask(tempItem({ title }))\r\n            let initialID = subtask.todo_id\r\n            // add another subtask\r\n            runInAction(() => {\r\n\r\n                this.todos.push(subtask)\r\n\r\n                // this.state = 'ready'\r\n                // NOTE lazy callback from server \r\n                if (isFunction(lazyCB)) {\r\n\r\n                    lazyCB(subtask).then((updatedSubtask) => {\r\n                        this.todos.forEach(n => {\r\n                            if (n.todo_id === initialID) {\r\n                                n = updateTodoValues(updatedSubtask, n)\r\n                            }\r\n                        })\r\n                    })\r\n                        // TODO Here we can reverse last add in case server/connection drops out \r\n                        .catch(onerror)\r\n                }\r\n            })\r\n\r\n            return subtask\r\n\r\n        } catch (err) {\r\n            onerror('[addSubTask]', err)\r\n        }\r\n        return undefined\r\n\r\n    }\r\n\r\n}\r\n","/**\r\n * Refer to Bucket List server ./config.js file for details\r\n */\r\n\r\nlet apiUrlBase = process.env.REACT_APP_API_URL\r\n\r\nif (!apiUrlBase) {\r\n    console.error('apiUrlBase is empty!')\r\n}\r\n// NOTE for this test we dont need auth Bearer since the production\r\n\r\nconst api = {\r\n    base: apiUrlBase,\r\n    bucketList: () => `${apiUrlBase}/list`, // GET\r\n    createBucket: () => `${apiUrlBase}/create`, // POST\r\n    updateBucketStatus: (id) => `${apiUrlBase}/${id}/update-status`, // POST\r\n    updateBucketOnlyStatus: (id) => `${apiUrlBase}/${id}/bucket-only-update-status`, // POST\r\n    createSubtask: (id) => `${apiUrlBase}/${id}/rel/subtask/create`, // POST\r\n    updateSubtaskStatus: (todo_id) => `${apiUrlBase}/rel/subtask/${todo_id}/update-status` // POST\r\n}\r\n\r\nexport { api } // >> Object.freeze(api)\r\n","import { observable, makeObservable, runInAction } from \"mobx\"\r\nimport { onerror, sq, debug } from 'x-utils-es/'\r\nimport { BucketStore, Bucket, Subtask } from '../components/Todos/Models'\r\nimport { fetchHandler, updateTodoValues, presetPost } from '../utils'\r\nimport { api } from './api'\r\nObject.freeze(api) // no mods please!\r\n\r\nexport default class MobXStoreAPI {\r\n\r\n    todoData = []\r\n    state = \"pending\" // \"pending\", \"ready\", \"error\", \"updating\", \"no_auth\"\r\n\r\n    childStoresAvailable = {\r\n        bucketStore: sq()\r\n    }\r\n\r\n    childstores = {\r\n        // these stores become available after rendering\r\n        bucketStore: null\r\n    }\r\n\r\n    constructor() {\r\n\r\n        makeObservable(this.childStoresAvailable, {\r\n            bucketStore: observable\r\n        })\r\n\r\n    }\r\n  \r\n    // async fetchTodo() {\r\n\r\n    //     this.todoData = []\r\n    //     this.state = \"pending\"\r\n    //     await delay(2000) // fake loading\r\n    //     import('./dummy.data').then(\r\n    //         action(\"fetchSuccess\", todos => {\r\n    //             this.todoData = todos.todoList\r\n    //             this.state = \"ready\"\r\n    //         }),\r\n    //         action(\"fetchError\", error => {\r\n    //             this.state = \"error\"\r\n    //         })\r\n    //     )\r\n    // }\r\n\r\n    /**\r\n     * fetch initial buckets from the server\r\n     */\r\n    fetch_bucketListGet() {\r\n\r\n        this.state = 'pending'\r\n        this.todoData = []\r\n        debug('[fetch]', api.bucketList())\r\n        return fetch(api.bucketList(), {\r\n            method: 'GET', headers: { 'Content-Type': 'application/json;charset=utf-8' }\r\n        }).then(fetchHandler)\r\n            .then(({ response, code }) => {\r\n                // NOTE prefer this approach, more readable \r\n                runInAction(() => {\r\n                    this.todoData = response || []\r\n\r\n                    this.todoData.sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime())\r\n                    this.state = \"ready\"\r\n                })\r\n            }).catch(err => {\r\n                \r\n                runInAction(() => {\r\n                    if (['NO_TOKEN', 'NOT_AUTHENTICATED'].indexOf(err) !== -1) {\r\n                        this.state = \"no_auth\"\r\n                    } else {\r\n                        this.state = \"error\"\r\n                    }            \r\n                })\r\n                onerror('[fetch_bucketListGet]', err)\r\n            })\r\n    }\r\n\r\n    /**\r\n     * Request to create new Bucket\r\n     * Add new bucket to todoData[]\r\n     * @param {*} {title}\r\n     * @memberof MobXStoreAPI\r\n     */\r\n    fetch_createBucketPost({ title }) {\r\n        // this.state = \"updating\"\r\n        debug('[fetch]', api.createBucket())\r\n        return fetch(api.createBucket(), presetPost({ title })).then(fetchHandler)\r\n            .then(({ response, code }) => {\r\n\r\n                runInAction(() => {\r\n                    this.todoData.push(response)\r\n                })\r\n\r\n                return response\r\n\r\n            }).catch(err => {\r\n\r\n                runInAction(() => {\r\n                    if (['NO_TOKEN', 'NOT_AUTHENTICATED'].indexOf(err) !== -1) {\r\n                        this.state = \"no_auth\"\r\n                    }         \r\n                })\r\n\r\n                onerror('[fetch_createBucketPost]', err)\r\n            })\r\n    }\r\n\r\n    /**\r\n    * Request to create new Subtask that belongs on current bucket\r\n    * @param {*} {title}\r\n    * @param {*} id bucket id\r\n    * @memberof MobXStoreAPI\r\n    */\r\n    fetch_createSubtaskPost({ title }, id) {\r\n\r\n        // this.state = \"updating\"\r\n        debug('[fetch]', api.createSubtask(id))\r\n        return fetch(api.createSubtask(id), presetPost({ title })).then(fetchHandler)\r\n            .then(({ response, code }) => {\r\n\r\n                runInAction(() => {\r\n\r\n                    this.todoData = (this.todoData || []).map(todo => {\r\n                        if (todo.id === id) todo = response\r\n                        return todo\r\n                    })\r\n                    this._addSubToBucket(response, id)\r\n                })\r\n\r\n                return response\r\n\r\n            }).catch(err => {\r\n               \r\n                runInAction(() => {\r\n                    if (['NO_TOKEN', 'NOT_AUTHENTICATED'].indexOf(err) !== -1) {\r\n                        this.state = \"no_auth\"\r\n                    }         \r\n                })\r\n                \r\n                onerror('[fetch_createSubtaskPost]', err)\r\n            })\r\n    }\r\n\r\n    /**\r\n    * fetch update, and reset todoData\r\n    * @param {*} {title}\r\n    * @param {*} id bucket id\r\n    * @memberof MobXStoreAPI\r\n    */\r\n    fetch_updateBucketStatusPost({ status }, id) {\r\n\r\n        debug('[fetch]', api.updateBucketStatus(id))\r\n        return fetch(api.updateBucketStatus(id), presetPost({ status })).then(fetchHandler)\r\n            .then(({ response, code }) => {\r\n\r\n                runInAction(() => {\r\n                    this.todoData = this.todoData.map(n => {\r\n                        if (n.id === id) n = response\r\n                        return n\r\n                    })\r\n                })\r\n\r\n                return response\r\n\r\n            }).catch(err => {\r\n               \r\n                runInAction(() => {\r\n                    if (['NO_TOKEN', 'NOT_AUTHENTICATED'].indexOf(err) !== -1) {\r\n                        this.state = \"no_auth\"\r\n                    }         \r\n                })\r\n\r\n                onerror('[fetch_updateBucketStatusPost]', err)\r\n            })\r\n    }\r\n\r\n    fetch_updateBucketOnlyStatus({ status }, id) {\r\n\r\n        debug('[fetch]', api.updateBucketOnlyStatus(id))\r\n        return fetch(api.updateBucketOnlyStatus(id), presetPost({ status })).then(fetchHandler)\r\n            .then(({ response, code }) => {\r\n\r\n                runInAction(() => {\r\n                    this.todoData = this.todoData.map(n => {\r\n                        if (n.id === id) {\r\n                            Object.entries(response).forEach(([k, val]) => {\r\n                                if (n[k]) n[k] = val\r\n                            })\r\n                        }\r\n                        return n\r\n                    })\r\n                })\r\n\r\n                return response\r\n\r\n            }).catch(err => {\r\n           \r\n                runInAction(() => {\r\n                    if (['NO_TOKEN', 'NOT_AUTHENTICATED'].indexOf(err) !== -1) {\r\n                        this.state = \"no_auth\"\r\n                    }         \r\n                })\r\n                onerror('[fetch_updateBucketOnlyStatus]', err)\r\n            })\r\n    }\r\n\r\n    /**\r\n    * fetch update, and reset todoData\r\n    * @param {*} {title}\r\n    * @param {*} todo_id subtask id\r\n    * @memberof MobXStoreAPI\r\n    */\r\n    fetch_updateSubtaskStatusPost({ status }, todo_id) {\r\n        debug('[fetch]', api.updateSubtaskStatus(todo_id))\r\n        return fetch(api.updateSubtaskStatus(todo_id), presetPost({ status })).then(fetchHandler)\r\n            .then(({ response, code }) => {\r\n\r\n                runInAction(() => {\r\n\r\n                    this.todoData = this.todoData.map(n => {\r\n                        if (n.id === todo_id) n = response\r\n                        return n\r\n                    })\r\n                })\r\n\r\n                return response\r\n\r\n            }).catch(err => {\r\n               \r\n                runInAction(() => {\r\n                    if (['NO_TOKEN', 'NOT_AUTHENTICATED'].indexOf(err) !== -1) {\r\n                        this.state = \"no_auth\"\r\n                    }         \r\n                })\r\n\r\n                onerror('[updateSubtaskStatusPost]', err)\r\n            })\r\n    }\r\n\r\n    /**\r\n     * update store and bucket directly without re-rendering component\r\n     * @param {*} response \r\n     * @param {*} id \r\n     */\r\n    _addSubToBucket(response, id) {\r\n        if (this.childstores.bucketStore instanceof BucketStore) {\r\n            this.childstores.bucketStore.todos = this.childstores.bucketStore.todos.map(todo => {\r\n                if (todo.id === id) {\r\n                    if (todo instanceof Bucket) {\r\n                        todo.addSubtask(response)\r\n                    }\r\n                }\r\n                return todo\r\n            })\r\n        }\r\n    }\r\n\r\n    /**\r\n     * update store and bucket directly without re-rendering component\r\n     * @param {*} response \r\n     * @param {*} id \r\n     */\r\n    _updateBucket(response, id, childStore) {\r\n        if (childStore instanceof BucketStore) {\r\n            childStore.todos = childStore.todos.map(todo => {\r\n                if (todo.id === id) {\r\n                    if (todo instanceof Bucket) {\r\n                        todo = updateTodoValues(response, todo)\r\n\r\n                    }\r\n                }\r\n                return todo\r\n            })\r\n        }\r\n    }\r\n\r\n    /**\r\n     * update store and subtask directly without re-rendering component\r\n     * @param {*} response \r\n     * @param {*} todo_id \r\n     */\r\n    _updateSubtask(response, todo_id, subTaskStore) {\r\n        if (subTaskStore instanceof BucketStore) {\r\n            subTaskStore.todos = subTaskStore.todos.map(todo => {\r\n                if (todo instanceof Subtask) {\r\n                    if (todo.todo_id === todo_id) {\r\n                        todo.updateSubtask(response)\r\n                    }\r\n                }\r\n                return todo\r\n            })\r\n        }\r\n    }\r\n}\r\n","import { action, observable, makeObservable, observe } from \"mobx\"\r\nimport { log, onerror } from 'x-utils-es'\r\nimport { BucketStore } from '../components/Todos/Models'\r\nimport MobXStoreAPI from './MobxStore.api'\r\nimport { tasksComplete } from '../utils'\r\n\r\nexport default class MobXStore extends MobXStoreAPI {\r\n\r\n    constructor() {\r\n        super()\r\n\r\n        makeObservable(this, {\r\n            todoData: observable,\r\n            state: observable,\r\n            onUpdate: action,\r\n            fetch_bucketListGet: action\r\n        })\r\n\r\n        // NOTE get initial bucket data from server\r\n        this.fetch_bucketListGet()\r\n\r\n        observe(this, 'todoData', change => {\r\n            log(`[todoData][updated]`)\r\n        })\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param {*} data data as object transmitted\r\n     * @param {*} id id that belongs to each entity, except for homeComponent\r\n     * @param {*} entity [homeComponent','bucket','subtask']\r\n     * @param {*} eventName [addBucket ','addSubtask','subtask','inputTitle,statusChange,statusNoChange]\r\n     * @param {*} childStore current store instance during execution, \r\n     */\r\n    async onUpdate(data = {}, id, entity, eventName, childStore, onDone) {\r\n\r\n        let entities = ['homeComponent', 'bucket', 'subtask']\r\n        if (!onDone) onDone = function () { }\r\n\r\n        let doSwitch = async (ent) => {\r\n            let done = {}\r\n            switch (ent) {\r\n                case 'homeComponent': {\r\n\r\n                    // disabled\r\n                    // if (eventName === 'inputTitle') {\r\n                    //  on input type and change set\r\n                    // }\r\n\r\n                    if (eventName === 'addBucket') {\r\n                        let r = await this.addBucket_and_fetch(data)\r\n                        if (r) onDone(true)\r\n                        else {\r\n                            done = {\r\n                                fail: true,\r\n                                message: 'addBucket_and_fetch no completed'\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    break\r\n                }\r\n\r\n                case 'bucket': {\r\n\r\n                    // eslint-disable-next-line no-empty\r\n                    if (eventName === 'statusNoChange') {}\r\n\r\n                    if (eventName === 'statusChange') {\r\n                        let r = await this.fetch_updateBucketStatusPost({ status: data.status }, id)\r\n                        if (r) {\r\n                            this._updateBucket(r, id, childStore)\r\n                        } else {\r\n                            done = {\r\n                                fail: true,\r\n                                message: 'fetch_updateBucketStatusPost not complete'\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    break\r\n                }\r\n\r\n                case 'subtask': {\r\n\r\n                    if (eventName === 'statusChange') {\r\n\r\n                        let r = await this.fetch_updateSubtaskStatusPost({ status: data.status }, id)\r\n                        if (r) {\r\n\r\n                            this._updateSubtask(r, id, childStore)\r\n\r\n                            // when all subtasks are completed/ or still pending, make another fetch and update bucket status to complete\r\n      \r\n                            let bucketID = childStore.id\r\n                            let status = tasksComplete(childStore.todos) ? 'completed' : 'pending'\r\n                            if (!await this.fetch_updateBucketOnlyStatus({ status }, bucketID)) {\r\n                                done = {\r\n                                    fail: true,\r\n                                    message: 'fetch_updateSubtaskStatusPost > fetch_updateBucketOnlyStatus not complete'\r\n                                }\r\n                            }\r\n                            \r\n                            onDone(true)\r\n                        } else {\r\n                            done = {\r\n                                fail: true,\r\n                                message: 'fetch_updateSubtaskStatusPost not complete'\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (eventName === 'addSubtask') {\r\n                        if (await this.addSubtask_and_fetch(data, childStore)) onDone(true)\r\n                        else {\r\n                            done = {\r\n                                fail: true,\r\n                                message: 'addSubtask not complete'\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    break\r\n                }\r\n\r\n                default: {\r\n                    done = {\r\n                        fail: true,\r\n                        message: `no entity matched for: ${entity}`\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!done) {\r\n                done = {\r\n                    pass: true\r\n                }\r\n            }\r\n\r\n            return done\r\n        }\r\n\r\n        for (let ent of entities) {\r\n            if (ent !== entity) continue\r\n            let o = doSwitch(ent)\r\n            if (o) {\r\n                if (o.fail) onerror('[MobXStore][onUpdate]', o.message)\r\n            }\r\n        }\r\n\r\n        log('[MobXStore][onUpdate]', '[data][id][entity][childStore][eventName][?onDone]')\r\n    }\r\n\r\n    /**\r\n     * The store gains access to BucketStore after <BucketComponent/> is loaded\r\n     * @param {*} data \r\n     */\r\n    async addBucket_and_fetch({ title }) {\r\n\r\n        await this.childStoresAvailable.bucketStore.promise\r\n        if (this.childstores.bucketStore instanceof BucketStore) {\r\n            // execute bucketStore addNewBucket\r\n            // wait for server response \r\n            // perform lazy callback    \r\n            let bucketItem = this.childstores.bucketStore.addNewBucket({ title }, ({ title }) => {\r\n                return this.fetch_createBucketPost({ title }).then(n => {\r\n                    if (!n) return Promise.reject('addBucket,No data available')\r\n                    else return n\r\n                }).catch(onerror)\r\n            })\r\n            return bucketItem\r\n        }\r\n        return false\r\n    }\r\n\r\n    /**\r\n    * The store gains access to SubtaskStore after <BucketSubTasks/> is loaded\r\n    * @param {*} data \r\n    */\r\n    async addSubtask_and_fetch({ title }, childStore) {\r\n     \r\n        // just a reminder, we are using same class for both {BucketStore} and {subTaskStore}\r\n        // the only difference is the {entity}\r\n       \r\n        if (childStore instanceof BucketStore && childStore.entity === 'SubTaskStore') {\r\n\r\n            // execute subTaskStore addNewSubTask\r\n            // wait for server response \r\n            // perform lazy callback    \r\n            const bucketId = childStore.id\r\n\r\n            let subtaskItem = childStore.addNewSubTask({ title }, ({ title }) => {\r\n                \r\n                return this.fetch_createSubtaskPost({ title }, bucketId).then(n => {\r\n                    if (!n) return Promise.reject('addSubtask, No data available')\r\n                    else return n\r\n                }).catch(onerror)\r\n            })\r\n\r\n            return subtaskItem\r\n        }\r\n        return false\r\n    }\r\n\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport MenuIcon from '@material-ui/icons/Menu'\r\nimport { delay } from 'x-utils-es/umd'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport TagFacesIcon from '@material-ui/icons/TagFaces'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flexGrow: 1\r\n    },\r\n    menuButton: {\r\n        marginRight: theme.spacing(2)\r\n    },\r\n    title: {\r\n        flexGrow: 1\r\n    }\r\n}))\r\n\r\nfunction ButtonAppBar({ mobxstore }) {\r\n\r\n    const [userName, setUser] = React.useState('')\r\n\r\n    // assign fake user \r\n    const defaultUser = 'Johndoe'\r\n    delay(3000).then(() => {\r\n        setUser(defaultUser)\r\n    })\r\n  \r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <AppBar position=\"static\">\r\n                <Toolbar>\r\n                    <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\r\n                        <MenuIcon />\r\n                    </IconButton>\r\n                    <Typography variant=\"h6\" className={classes.title}>\r\n            Bucket List\r\n                    </Typography>\r\n                    {userName && mobxstore.state === 'ready' ? (<Chip\r\n                        avatar={<TagFacesIcon />}\r\n                        className=\"nav-avatar\"\r\n                        label={userName}\r\n                        clickable\r\n                        variant=\"outlined\"\r\n                    />) : null}\r\n\r\n                </Toolbar>\r\n            </AppBar>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ButtonAppBar\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Alert from '@material-ui/lab/Alert'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        '& > * + *': {\r\n            marginTop: theme.spacing(2)\r\n        }\r\n    }\r\n}))\r\n\r\n/**\r\n *  `<Message type='' value=''/>`  types: [error,info,success]\r\n * display message based on props\r\n * @param {*} props //type,value \r\n */\r\nexport default function Messages(props) {\r\n    const classes = useStyles()\r\n    const type = props.type\r\n    const message = props.value\r\n\r\n    if (!message) return null\r\n    return (\r\n        <div className={classes.root + ' mx-1'}>\r\n            {type === 'error' ? (<Alert severity=\"error\">{message}</Alert>) : type === 'warning' ? (<Alert severity=\"warning\">{message}</Alert>)\r\n                : type === 'info' ? (<Alert severity=\"info\">{message}</Alert>)\r\n                    : type === 'success' ? (<Alert severity=\"success\">{message}</Alert>) : null}  \r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\"\r\nimport { observer } from \"mobx-react-lite\"\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Message from './Messages'\r\nimport { Redirect } from \"react-router-dom\"\r\nconst withStoreReady = (Component) => {\r\n    \r\n    const Hoc = observer(({ mobxstore, basename }) => {\r\n    \r\n        if (mobxstore.state === 'no_auth') return (<Redirect to=\"/session-expired\"/>) \r\n        if (mobxstore.state === 'error') return (<Message type='error' value='No data from server' />) \r\n        if (mobxstore.state === 'ready') return (<Component mobxstore={mobxstore} />)\r\n        else return (<div className=\"d-flex justify-content-center align-items-center m-5 p-2\"><CircularProgress color=\"inherit\" size={20} /></div>)\r\n    })\r\n    return Hoc\r\n}\r\n\r\nexport default withStoreReady\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport AddIcon from '@material-ui/icons/Add'\r\n\r\nconst useStyles = (opts = {}) => makeStyles((theme) => {\r\n    let o = {\r\n        root: {\r\n   \r\n            '& > *': {\r\n                margin: theme.spacing(1)\r\n            },\r\n            ...(opts.style ? opts.style : {}),\r\n            backgroundColor: theme.palette.background.paper\r\n        },\r\n        extendedIcon: {\r\n            marginRight: theme.spacing(1)\r\n        }\r\n    }\r\n    return o\r\n})()\r\n\r\nexport default function FloatingActionButtons({ actionAdd, style }) {\r\n    const classes = useStyles({ style })\r\n    const onClick = (event) => {\r\n        if (actionAdd) actionAdd() \r\n        event.stopPropagation()\r\n        event.preventDefault()\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Fab color=\"primary\" aria-label=\"add\">\r\n                <AddIcon onClick={onClick} />\r\n            </Fab>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Add from './Add'\r\nimport { warn } from 'x-utils-es'\r\nconst useStyles = (opts = {}) => makeStyles((theme) => {\r\n    let o = {\r\n        root: {\r\n            backgroundColor: theme.palette.background.paper,\r\n            '& > *': {\r\n                margin: theme.spacing(1),\r\n                width: '25ch'\r\n            },\r\n            '& .outlined-basic.form-control': {\r\n                background: 'transparent'\r\n            },\r\n            ...(opts.style ? opts.style : {})\r\n        }\r\n    }\r\n    return o\r\n})()\r\n\r\nexport default function BasicTextFields({ className, entity, add, childStore, text, style, variantName = \"outlined\", value, onUpdate, id }) {\r\n\r\n    const classes = useStyles({ style })\r\n    const [inputName, setInputName] = React.useState('')\r\n\r\n    return (\r\n        <form\r\n\r\n            value={inputName}\r\n            onChange={(event) => {\r\n                let value = (event.target.value || '')\r\n       \r\n                if (onUpdate) {\r\n                    \r\n                    // NOTE disable for now\r\n                    // onUpdate({ value }, id, entity, 'inputTitle', childStore, () => {\r\n                    // }) \r\n                }\r\n                setInputName(value)\r\n          \r\n            }}\r\n\r\n            onSubmit={(event) => {      \r\n                let eventName = entity === 'subtask' ? 'addSubtask' : 'addBucket'\r\n\r\n                if ((inputName || '').length > 1) {\r\n                    onUpdate({ title: inputName }, id, entity, eventName, childStore, () => {\r\n                        setInputName('')\r\n                    })\r\n                } else {\r\n                    warn('[Input]', 'title is too short')\r\n                }\r\n    \r\n                event.stopPropagation()\r\n                event.preventDefault()\r\n                return false\r\n            }}\r\n\r\n            className={classes.root + \" \" + className} noValidate autoComplete=\"off\">\r\n\r\n            <React.Fragment>\r\n                {add ? (\r\n                    <div className=\"input-group mb-3 mr-1\">\r\n                        <TextField\r\n                            value={inputName}\r\n                            className=\"outlined-basic form-control \" label={text} variant={variantName} />\r\n                        <Add\r\n\r\n                            actionAdd={() => {\r\n\r\n                                let eventName = entity === 'subtask' ? 'addSubtask' : 'addBucket'\r\n                                if ((inputName || '').length > 1) {\r\n                                    onUpdate({ title: inputName }, id, entity, eventName, childStore, () => {\r\n                                        setInputName('')\r\n                                    })\r\n                                } else {\r\n                                    warn('[Input]', 'title is too short')\r\n                                }\r\n                              \r\n                            }}\r\n\r\n                            style={\r\n                                {\r\n                                    '& .MuiFab-root': {\r\n                                        width: '34px',\r\n                                        height: '34px'\r\n\r\n                                    }\r\n                                }\r\n                            } />\r\n                    </div>\r\n                ) : (<TextField\r\n                    value={inputName}\r\n                    className=\"outlined-basic\"\r\n                    label={text}\r\n                    variant={variantName} />)}\r\n            </React.Fragment>\r\n\r\n        </form>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Accordion from '@material-ui/core/Accordion'\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary'\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%'\r\n    },\r\n    heading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        flexBasis: '85%',\r\n        margin: '0px',\r\n        flexShrink: 0\r\n    },\r\n    secondaryHeading: {\r\n        fontSize: 'smaller',\r\n        paddingTop: '0.75rem!important',\r\n        color: theme.palette.text.secondary,\r\n        flexShrink: 0,\r\n        flexBasis: '15%'\r\n    }\r\n}))\r\n\r\nexport default function AccordionSection({ SubTasks, Check, item, finishedCount }) {\r\n\r\n    const classes = useStyles()\r\n    return (<div className={classes.root}>\r\n        <Accordion className=\"px-2 mb-2 accordion-wrap\">\r\n            <AccordionSummary\r\n                expandIcon={<ExpandMoreIcon />}\r\n                aria-label=\"Expand\"\r\n                aria-controls=\"additional-actions1-content\"\r\n                id=\"additional-actions1-header\">\r\n\r\n                <FormControlLabel\r\n                    className={classes.heading}\r\n                    aria-label=\"Acknowledge\"\r\n                    onClick={(event) => event.stopPropagation()}\r\n                    onFocus={(event) => event.stopPropagation()}\r\n                    control={\r\n                        <Check />\r\n                    }\r\n                    label={item.title}\r\n                />\r\n                <Typography className={classes.secondaryHeading}>Done {finishedCount}/{item.subtasks.length} </Typography>\r\n\r\n            </AccordionSummary>\r\n\r\n            <AccordionDetails>\r\n\r\n                <React.Fragment>\r\n                    {SubTasks ? <SubTasks /> : 'no details as yet'}\r\n                </React.Fragment>\r\n\r\n            </AccordionDetails>\r\n        </Accordion>\r\n    </div>)\r\n}\r\n","\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport React from 'react'\r\nimport { observer } from \"mobx-react-lite\"\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport { BucketStore as SubTaskStore } from './Models'\r\nimport Input from '../Input'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        backgroundColor: theme.palette.background.paper\r\n    }\r\n}))\r\n\r\nconst SubTaskView = observer(({ todo, inx, onUpdate, subTaskStore, currentCount, onCurrentCount }) => {\r\n\r\n    // callback to <BucketView/>\r\n    const [didLoad, setDidLoad] = React.useState(false)\r\n    React.useEffect(() => {\r\n        if (!didLoad) {\r\n            currentCount(subTaskStore.finishedCount)\r\n            setDidLoad(true)\r\n        }\r\n    }, [didLoad, currentCount, subTaskStore.finishedCount])\r\n\r\n    const labelId = `subtask-item checkbox-list-label-${inx}`\r\n    return (<ListItem\r\n\r\n        key={todo.todo_id}\r\n        role={undefined} dense button\r\n        onClick={(e => {\r\n            todo.toggle()\r\n            onUpdate(todo, todo.todo_id, 'subtask', 'statusChange', subTaskStore) // hoc call to Bucket\r\n            onCurrentCount() // execute change only\r\n            e.stopPropagation()\r\n        })}>\r\n        <ListItemIcon>\r\n            <Checkbox\r\n                edge=\"start\"\r\n                checked={todo.finished}\r\n                tabIndex={-1}\r\n                inputProps={{ 'aria-labelledby': labelId }}\r\n            />\r\n        </ListItemIcon>\r\n        <ListItemText id={labelId} primary={todo.title} />\r\n    </ListItem>)\r\n})\r\n\r\nconst SubTasksListView = observer(({ subTaskStore, inx, onUpdate, currentCount, onCurrentCount }) => {\r\n\r\n    const classes = useStyles()\r\n    return (<List className={classes.root + ` m-auto subtask-list`}>\r\n        {subTaskStore.todos.map(todo => (\r\n            <SubTaskView onCurrentCount={onCurrentCount} currentCount={currentCount} todo={todo} key={todo.todo_id} inx={inx} onUpdate={onUpdate} subTaskStore={subTaskStore} />\r\n        ))}\r\n\r\n        <div className=\"d-flex justify-content-between align-items-center flex-row subtask-item\">\r\n\r\n            <Input variantName='standard'\r\n                text='Add Task'\r\n                style={{ \"& input\": { padding: \"3px 0 5px\" } }}\r\n                id={subTaskStore.id}\r\n                entity='subtask'\r\n                childStore={subTaskStore}\r\n                onUpdate={onUpdate} // we need to handle add new update events as well\r\n                add={true} // tells the input to add <Add/> component\r\n            />\r\n        </div>\r\n\r\n    </List>)\r\n})\r\n\r\nconst SubtaskComponent = (props) => {\r\n    const { subtasks, id, onUpdate, onCurrentCount, currentCount } = props\r\n    const subTaskStore = new SubTaskStore(subtasks || [], { id, entity: 'SubTaskStore' })\r\n    return (<SubTasksListView currentCount={currentCount} onCurrentCount={() => onCurrentCount(subTaskStore.finishedCount)} subTaskStore={subTaskStore} onUpdate={onUpdate} />)\r\n}\r\n\r\nexport default SubtaskComponent\r\n","\r\nimport React from \"react\"\r\nimport { observer } from \"mobx-react-lite\"\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport { BucketStore } from './Models'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Accordion from './Accordion'\r\nimport List from '@material-ui/core/List'\r\n\r\n// import { todoList as todoData } from '../../store/dummy.data' //NOTE initial dummy data\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport BucketSubTasks from './BucketSubtasks'\r\nimport Message from '../Messages'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        // maxWidth: 360,\r\n        backgroundColor: theme.palette.background.paper\r\n    }\r\n}))\r\n\r\nconst BucketView = observer(({ todo, onUpdate, mobxstore, bucketStore }) => {\r\n    // eslint-disable-next-line no-empty\r\n    if (!todo.finished === false) { } // hack fix\r\n\r\n    // get subtasks completion count\r\n    const [finishedCount, setCount] = React.useState(0)\r\n    const currentCount = (count) => setCount(count)\r\n\r\n    return (\r\n        <div className=\"d-flex justify-content-center m-auto px-3 py-2 bucket-item\">\r\n            <Accordion\r\n                Check={() => (\r\n                    <Checkbox\r\n                        onClick={(e) => {                         \r\n                            let status = todo.toggle() ? 'completed' : 'pending'\r\n                            let buck = bucketStore.taskByID(todo.id)\r\n                            // dont emit same event when we dont have any subtasks to perform\r\n                            let eventName = buck.subtasks.length ? 'statusChange' : 'statusNoChange'\r\n                            onUpdate({ status }, todo.id, 'bucket', eventName, bucketStore)\r\n\r\n                            e.stopPropagation()\r\n                        }}\r\n                        checked={todo.finished}\r\n                        edge=\"start\"\r\n                    />\r\n                )}\r\n\r\n                item={todo}\r\n                finishedCount={finishedCount}        \r\n                SubTasks={() => (<BucketSubTasks onCurrentCount={currentCount} currentCount={(count) => currentCount(count)} mobxstore={mobxstore} subtasks={todo.subtasks || []} id={todo.id} onUpdate={(data, id, entity, eventName, childStore, onDone) => {\r\n     \r\n                    todo.onUpdate(data, entity, eventName)\r\n                    onUpdate(data, id, 'subtask', eventName, childStore, onDone)\r\n                   \r\n                }} />)}\r\n            />\r\n        </div>\r\n    )\r\n})\r\n\r\nconst BucketListView = observer(({ bucketStore, mobxstore, onUpdate }) => {\r\n    const classes = useStyles()\r\n    return (<List className={classes.root + ` m-auto bucket-list`}>\r\n        {(bucketStore.todos || []).length ? bucketStore.todos.map(todo => (\r\n            <BucketView todo={todo} key={todo.id} onUpdate={onUpdate} mobxstore={mobxstore} bucketStore={bucketStore} />\r\n        )) : <Message type='info' value='Add a new bucket list :)'/> }\r\n\r\n        { ((bucketStore.todos || []).length && bucketStore.unfinishedCount)\r\n            ? (<Message type='info' value={'Tasks left: ' + bucketStore.unfinishedCount}/>) : ((bucketStore.todos || []).length && !bucketStore.unfinishedCount) ? (<Message type='success' value='All done!'/>) : null\r\n        }\r\n    </List>)\r\n})\r\n\r\nconst BucketComponent = (props) => {\r\n    const { mobxstore, onUpdate } = props\r\n\r\n    if (mobxstore.state === 'ready') {\r\n\r\n        // NOTE adding store dataList to each Bucket model via BucketStore\r\n        const bucketStore = new BucketStore(mobxstore.todoData || [], { entity: 'BucketStore' })\r\n        mobxstore.childstores.bucketStore = bucketStore\r\n        mobxstore.childStoresAvailable.bucketStore.resolve(true)\r\n\r\n        if (bucketStore.state === 'ready') {\r\n            return (<BucketListView bucketStore={bucketStore} mobxstore={props.mobxstore} onUpdate={onUpdate} />)\r\n        }\r\n\r\n        if (bucketStore.state === 'error') {\r\n            return (<Message type='error' value='No data for Bucket Store' />)\r\n        } else {\r\n            return (<CircularProgress color=\"inherit\" size={20} />)\r\n        }\r\n    } else return (<CircularProgress color=\"inherit\" size={20} />)\r\n}\r\n\r\nexport default BucketComponent\r\n","\nimport \"../theme/scss/pages/home.component.scss\"\nimport withStoreReady from '../components/withStore.hoc'\nimport React from 'react'\nimport Input from '../components/Input'\nimport BucketTodo from '../components/Todos/BucketTodo'\n\nfunction Home(props) {\n    const { mobxstore } = props \n\n    const storeOnUpdateHandler = (data, id, entity, eventName, childStore, onDone) => {\n        mobxstore.onUpdate(data, id, entity, eventName, childStore, onDone)\n    }\n\n    return (\n        <>\n            <div className=\"row\">\n                <div className=\"col-sm-12 col-md-8 m-auto bucket-wrap \">\n                    <div className=\"d-flex justify-content-center align-items-center m-auto\">\n                        <Input\n                            className='bucket-add-input'\n                            variantName='outlined' text='New bucket' \n                            entity='homeComponent'\n                            childStore={null}\n                            onUpdate={storeOnUpdateHandler}\n                            add={ true }\n                        />\n   \n                    </div>\n                </div>\n            </div>\n\n            <div className=\"row\">\n                <div className=\"col-sm-12 col-md-7 m-auto p-4\">\n                    <BucketTodo mobxstore={mobxstore} onUpdate={storeOnUpdateHandler}/>\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default withStoreReady(Home)\n","import React from \"react\"\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\"\nimport { theme } from \"../src/theme/material.theme\"\nimport { ThemeProvider } from '@material-ui/core/styles'\nimport MobXStore from './store/MobxStore'\nimport Navbar from \"./components/Navbar\"\nimport Home from \"./pages/Home\"\nimport Message from './components/Messages'\nimport { loggerSetting, log } from 'x-utils-es'\nif (process.env.REACT_APP_ENV === 'production') {\n    loggerSetting('log', 'off')\n    loggerSetting('debug', 'off')\n}\n\nif (process.env.REACT_APP_ENV === 'development') {\n    log('IN_DEVELOPMENT_MODE')\n}\n\nconst mobxstore = new MobXStore()\nfunction App() {\n    const basename = process.env.PUBLIC_URL + '/app/'\n    return (\n        <BrowserRouter basename={basename} >\n\n            <ThemeProvider theme={theme}>\n                <Navbar mobxstore={mobxstore} />\n                <div className=\"container-fluid mt-3\">\n\n                    <Switch>\n                        <Route exact path=\"/app\">\n                            <Redirect to=\"/profile/johndoe\"/>\n                        </Route>\n                    </Switch>\n\n                    <Switch>\n                        <Route exact path=\"/\" render={(props) => (\n                            <Redirect to=\"/profile/johndoe\"/>\n                        )}/>\n      \n                    </Switch>\n\n                    <Switch>\n                        <Route path=\"/profile/:user\">\n                            <Home mobxstore={mobxstore} />\n                        </Route>\n                    </Switch>\n          \n                    <Switch>\n                        <Route exact path=\"/error\" render={(props) => {          \n                            return (<Message type='error' value='Ups something went wrong' />)\n                        }}/>                  \n                    </Switch>\n\n                    <Switch>\n                        <Route exact path=\"/session-expired\" render={(props) => {          \n                            return (<Message type='error' value='Your token expired, please login again at: /login' />)\n                        }}/>                  \n                    </Switch>\n                        \n                    <Switch>\n                        <Route exact path=\"*\">\n                            <Redirect to=\"/profile/johndoe\"/>\n                        </Route>\n                    </Switch>\n                </div>\n\n            </ThemeProvider>\n        </BrowserRouter>\n    )\n}\n\nexport default App\n\n/*\n<Switch>\n  <Layout exact path=\"/hotel/:agency\" component={Home} />\n  <Layout exact path=\"/hotel/:agency/list\" component={List} />\n  <Layout exact path=\"/hotel/:agency/detail/:id\" component={Detail} />\n\n</Switch>\n* */\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"../src/theme/scss/styles.scss\" // < base theme\nimport App from \"./App\"\n\nReactDOM.render(\n\n    <App />,\n    document.getElementById(\"root\")\n)\n"],"sourceRoot":""}